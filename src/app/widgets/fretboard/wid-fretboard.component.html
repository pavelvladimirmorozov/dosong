<div class="wid-fretboard">
  <div class="wid-fretboard-line">
    <com-select class="wid-fretboard-action" [options]="countOptions" [(selectedValue)]="fretsCount"></com-select>

    <button class="wid-fretboard-action" (click)="insertString()">
      <svg width="16" height="16" com-plus-icon></svg>
    </button>
    <div class="wid-fretboard-sticky">
      <div class="wid-fretboard-action">
        <input type="checkbox" [(ngModel)]="noteNamesManager.useGammaNotes">
      </div>
      <div class="wid-fretboard-action">0</div>
    </div>
      @for (fret of frets(); track $index) {
      <div class="wid-fretboard-fret" [style.flexBasis]="getFretWidth(fret) + 'px'">{{fret}}</div>
      }
  </div>

  @for (tuningNote of tuning(); track $index;let stringNumber = $index) {
  <div class="wid-fretboard-line">
    <div class="wid-fretboard-action">
      {{stringNumber + 1}}
    </div>

    <button class="wid-fretboard-action" (click)="removeString(stringNumber)">
      <svg width="16" height="16" com-trash-icon></svg>
    </button>

    <wid-fretboard-string [index]="stringNumber" [startNote]="tuningNote.note" [startOctave]="tuningNote.octave"
      [fretsCount]="fretsCount()" [noteWidth]="getFretWidth"
      (startOctaveChange)="changeTuning(stringNumber, { note: tuningNote.note, octave: $event})"
      (startNoteChange)="changeTuning(stringNumber, { note: $event, octave: tuningNote.octave })" />
  </div>
  }

  <div class="wid-fretboard-line">
    <div class="wid-fretboard-action">#</div>

    <button class="wid-fretboard-action" (click)="appendString()">
      <svg width="16" height="16" com-plus-icon></svg>
    </button>

    <div class="wid-fretboard-sticky">
      <div class="wid-fretboard-action">#</div>
      <div class="wid-fretboard-action">0</div>
    </div>
      @for (fret of frets(); track $index) {
      <div class="wid-fretboard-fret" [style.width]="getFretWidth(fret) + 'px'">{{fret}}</div>
      }
  </div>
</div>